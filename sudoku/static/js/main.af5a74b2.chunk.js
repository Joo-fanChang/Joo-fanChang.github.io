(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(t,e,r){t.exports=r.p+"static/media/avatar.e70390ca.jpeg"},,,function(t,e,r){t.exports=r(29)},,,,,function(t,e,r){},,,function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n,o,i,a,s,c,l,u,h,d,m,f=r(0),p=r.n(f),b=r(9),y=r.n(b),v=r(3),w=r(5),k=r(14),g=r(12),O=r(15),j=(r(21),r(8)),N=r.n(j),x=r(6),I=Array(9).fill(0).map(function(t,e){return e}).map(function(t){return t+1}),E=Object(x.a)(I),G="123456789".split(""),B="ABCDEFGHI".split(""),C=r(7),A=Object(C.a)(function(t){var e=t.sudoku,r=t.gridClick;return f.createElement("div",{className:"checkerboard"},f.createElement("div",{className:"coordinate-row"},B.map(function(t){return f.createElement("span",{key:t,className:"coordinate-block"},t)})),e.grids.map(function(t,n){var o=N()({"checkerboard-row":!0,"last-row":n===e.grids.length-1,"multiple-of-three":n%3===2});return f.createElement("div",{key:n,className:o},t.map(function(t,e){var n=N()({"checkerboard-block":!0,"is-choosed":t.status.isChoosed,"is-inited":t.status.isInit});return f.createElement("span",{key:e,className:n,onClick:function(){return r(t)}},t.showNum)}))}),f.createElement("div",{className:"coordinate-col"},G.map(function(t){return f.createElement("span",{key:t,className:"coordinate-block"},t)})))}),F=(r(24),function(t){var e=t.controllBar,r=t.barClick,n=t.choosedGrid,o=N()({"controll-item":!0,clear:n&&n.num});return f.createElement("div",{className:"controll-bar"},e.map(function(t){var e=N()({"controll-item":!0,active:t.status,forbidden:!t.status});return f.createElement("span",{key:t.num,className:e,onClick:function(){return r(t)}},t.num)}),f.createElement("span",{className:o,onClick:function(){return r({status:!0,num:null})}},"del"))}),P=function(t){var e=t.choosedGrid,r=e.rowIdx,n=e.colIdx,o=e.showNum;return f.createElement("div",{className:"game-status-container"},f.createElement("h5",null,"\u9009\u4e2d\u5143\u7d20\uff1a"),f.createElement("p",null,"\u4f4d\u7f6e\uff1a",B[n]+" "+G[r]),f.createElement("p",null,"\u586b\u5165\uff1a",o))},S=(r(25),r(13)),D=r.n(S),H=function(t){var e=t.start;return f.createElement("div",{className:"game-status-container"},f.createElement("div",{className:"game-user"},f.createElement("img",{className:"avatar",src:D.a,alt:"avatar"}),f.createElement("span",null,"changzhenan")),f.createElement("button",{className:"btn btn-primary btn-sm",onClick:e},"\u5f00\u59cb")," \xa0",f.createElement("button",{className:"btn btn-warning btn-sm",onClick:e},"\u6682\u505c"))},z=(r(26),Object(C.a)(function(t){var e=t.history,r=t.stepClick;return f.createElement("div",{className:"game-status-container history-container"},e.map(function(t){return f.createElement("div",{key:t.step,className:"history-step",onClick:function(){return r(t)}},0===t.step?"\u5f00\u5c40":"\u7b2c".concat(t.step,"\u6b65  ").concat(B[t.colIdx]," ").concat(G[t.rowIdx]))}))})),R=r(4),M=r(2),W=(r(11),r(1)),T=function t(e){Object(v.a)(this,t),this.num=void 0,this.status=!1,this.num=e},K=function(){function t(){Object(v.a)(this,t)}return Object(w.a)(t,null,[{key:"generateControllBar",value:function(){return I.map(function(t){return new T(t)})}},{key:"getPalaceKey",value:function(t,e){return 3*Math.floor(t/3)+Math.floor(e/3)+1}},{key:"random",value:function(t,e){return Math.floor(Math.random()*(e+1-t)+t)}},{key:"randomOne2Nine",value:function(){var e=Object(x.a)(E);return t.randomArray(e),e}},{key:"randomArray",value:function(e){var r=e.length-1;Array(10).fill(0).forEach(function(){var n=t.random(0,r),o=t.random(0,r),i=[e[o],e[n]];e[n]=i[0],e[o]=i[1]})}},{key:"isCorrectData",value:function(e){var r=!0,n={};return e.forEach(function(e,r){return e.forEach(function(e,o){return function(e,r,o){var i="row".concat(r),a="col".concat(o),s="palace".concat(t.getPalaceKey(r,o));n[i]?n[i]+=e:n[i]=e,n[a]?n[a]+=e:n[a]=e,n[s]?n[s]+=e:n[s]=e}(e,r,o)})}),Object.keys(n).forEach(function(t){45!==n[t]&&(r=!1)}),r}}]),t}(),_=(n=function(){function t(e,r){Object(v.a)(this,t),this.rowIdx=void 0,this.colIdx=void 0,this._num=null,Object(R.a)(this,"showNum",o,this),this.belongToPalace=void 0,this.availabelNums=[],this.availabelIdx=0,Object(R.a)(this,"status",i,this),this.rowIdx=e,this.colIdx=r,this.belongToPalace=K.getPalaceKey(e,r)}return Object(w.a)(t,[{key:"next",value:function(){return this.availabelIdx+=1,this.availabelNums[this.availabelIdx]}},{key:"num",get:function(){return this._num},set:function(t){this.showNum=t,this._num=t}}]),t}(),o=Object(M.a)(n.prototype,"showNum",[W.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=Object(M.a)(n.prototype,"status",[W.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isInit:!0,isChoosed:!1}}}),n),J=(a=function(){function t(e){Object(v.a)(this,t),Object(R.a)(this,"grids",s,this),this.numberOfMumbers=void 0,this.numberOfMumbers=e,this.reset()}return Object(w.a)(t,[{key:"reset",value:function(){this.grids=this.generateGrids(),this.fill(),this.digHoles()}},{key:"generateGrids",value:function(){return Array(9).fill(0).map(function(t,e){return Array(9).fill(0).map(function(t,r){return new _(e,r)})})}},{key:"fill",value:function(){this.fillFirstRow(),this.fillRows()}},{key:"fillFirstRow",value:function(){var t=K.randomOne2Nine();this.grids[0].forEach(function(e){e.num=t.pop()})}},{key:"fillRows",value:function(t,e){e=e||0;for(var r=t=t||1;r<9;r++)for(var n=0;n<9;n++)if(!(r===t&&n<e)){var o=this.grids[r][n],i=this.getAvailableNums(o,"num");if(!i.length){var a=this.toFlashBack(o),s=a.rowIdx,c=a.colIdx;return this.fillRows(s,c)}o.availabelNums=i,o.availabelIdx=0,o.num=i[o.availabelIdx]}}},{key:"toFlashBack",value:function(t){return 0===t.colIdx?this.toFlashBackByRow(t):this.toFlashBackByCol(t)}},{key:"toFlashBackByCol",value:function(t){var e=t.rowIdx,r=t.colIdx,n=this.grids[e][r-1];return this.fillNextNum(n)?{rowIdx:e,colIdx:r}:this.toFlashBack(n)}},{key:"toFlashBackByRow",value:function(t){var e=t.rowIdx-1;this.grids[e].forEach(function(t){return t.num=null});var r=this.grids[e][0];return this.fillNextNum(r)?{rowIdx:r.rowIdx,colIdx:r.colIdx}:this.toFlashBackByRow(r)}},{key:"fillNextNum",value:function(t){var e=t.next();return t.num=e,e||(t.availabelIdx=0),!!e}},{key:"getAvailableNums",value:function(t,e){var r=t.rowIdx,n=t.colIdx,o=t.belongToPalace,i=[],a=[],s=[];this.grids.forEach(function(t){t.forEach(function(t){var c=t.rowIdx,l=t.colIdx,u=t.belongToPalace;c===r&&l===n||t[e]&&(c===r&&i.push(t[e]),l===n&&a.push(t[e]),u===o&&s.push(t[e]))})});var c=new Set([].concat(i,a,s)),l=new Set(E),u=Object(x.a)(new Set(Object(x.a)(l).filter(function(t){return!c.has(t)})));return u.length&&K.randomArray(u),u}},{key:"toArray",value:function(t){return this.grids.map(function(e){return e.map(function(e){return e[t]})})}},{key:"digHoles",value:function(){for(var t=81-(this.numberOfMumbers||30),e=0;e<t;){var r=K.random(0,8),n=K.random(0,8);this.grids[r][n]&&(this.grids[r][n].showNum=null,this.grids[r][n].status.isInit=!1,e++)}}},{key:"fullArray",get:function(){return this.toArray("num")}},{key:"incompleteArray",get:function(){return this.toArray("showNum")}}]),t}(),s=Object(M.a)(a.prototype,"grids",[W.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a),q=new(c=function(){function t(){Object(v.a)(this,t),Object(R.a)(this,"sudoku",l,this),Object(R.a)(this,"controllBar",u,this),Object(R.a)(this,"choosedGrid",h,this),Object(R.a)(this,"isWin",d,this),Object(R.a)(this,"history",m,this),this.startGame()}return Object(w.a)(t,[{key:"startGame",value:function(){this.sudoku=new J(30),this.controllBar=I.map(function(t){return new T(t)}),this.choosedGrid=null,this.isWin=!1,this.history=[]}},{key:"chooseGrid",value:function(t){this.choosedGrid&&(this.choosedGrid.status.isChoosed=!1),t.status.isChoosed=!0,this.choosedGrid=t,this.calcControllBar()}},{key:"calcControllBar",value:function(){var t=this.sudoku.getAvailableNums(this.choosedGrid,"showNum");this.controllBar=this.controllBar.map(function(e){return e.status=t.includes(e.num),e})}},{key:"fillNum",value:function(t){if(this.choosedGrid){var e=this.choosedGrid,r=e.rowIdx,n=e.colIdx;this.addGrid2History(this.choosedGrid),this.sudoku.grids[r][n].showNum=t,this.isOver()}}},{key:"addGrid2History",value:function(t){var e=t.rowIdx,r=t.colIdx,n=t.showNum;this.history.length||(this.history=[{step:0,rowIdx:e,colIdx:r,prevShowNum:null}]);var o={step:this.history.length,rowIdx:e,colIdx:r,prevShowNum:n};this.history.unshift(o)}},{key:"resetFromHistory",value:function(t){for(var e=Object(x.a)(this.history);t!==e[0];){var r=e.shift(),n=r.rowIdx,o=r.colIdx,i=r.prevShowNum;this.sudoku.grids[n][o].showNum=i}if(this.choosedGrid&&(this.choosedGrid.status.isChoosed=!1),0!==t.step){var a=this.sudoku.grids[t.rowIdx][t.colIdx];this.chooseGrid(a)}else this.choosedGrid=null,this.controllBar=I.map(function(t){return new T(t)});this.history=e}},{key:"isOver",value:function(){this.isWin=K.isCorrectData(this.sudoku.incompleteArray)}}]),t}(),l=Object(M.a)(c.prototype,"sudoku",[W.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J(0)}}),u=Object(M.a)(c.prototype,"controllBar",[W.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=Object(M.a)(c.prototype,"choosedGrid",[W.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=Object(M.a)(c.prototype,"isWin",[W.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(M.a)(c.prototype,"history",[W.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(M.a)(c.prototype,"startGame",[W.d],Object.getOwnPropertyDescriptor(c.prototype,"startGame"),c.prototype),Object(M.a)(c.prototype,"chooseGrid",[W.d],Object.getOwnPropertyDescriptor(c.prototype,"chooseGrid"),c.prototype),Object(M.a)(c.prototype,"calcControllBar",[W.d],Object.getOwnPropertyDescriptor(c.prototype,"calcControllBar"),c.prototype),Object(M.a)(c.prototype,"fillNum",[W.d],Object.getOwnPropertyDescriptor(c.prototype,"fillNum"),c.prototype),Object(M.a)(c.prototype,"addGrid2History",[W.d],Object.getOwnPropertyDescriptor(c.prototype,"addGrid2History"),c.prototype),Object(M.a)(c.prototype,"resetFromHistory",[W.d],Object.getOwnPropertyDescriptor(c.prototype,"resetFromHistory"),c.prototype),Object(M.a)(c.prototype,"isOver",[W.d],Object.getOwnPropertyDescriptor(c.prototype,"isOver"),c.prototype),c);function L(){this.props.pageStore.startGame()}function Q(t){t.status.isInit||this.props.pageStore.chooseGrid(t)}function U(t){t.status&&this.props.pageStore.fillNum(t.num)}function V(t){this.props.pageStore.resetFromHistory(t)}r(27);var X,Y=Object(C.a)(X=function(t){function e(){return Object(v.a)(this,e),Object(k.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(w.a)(e,[{key:"render",value:function(){var t=this.props.pageStore,e=t.sudoku,r=t.controllBar,n=t.choosedGrid,o=t.isWin,i=t.history;return p.a.createElement("div",{className:"App"},p.a.createElement("div",{className:"left"},"Sudoku Game ",o?"win":"not win",p.a.createElement(A,{sudoku:e,gridClick:Q.bind(this)}),p.a.createElement(F,{controllBar:r,choosedGrid:n,barClick:U.bind(this)})),p.a.createElement("div",{className:"right"},"Dashboard",p.a.createElement(H,{start:L.bind(this)}),i.length?p.a.createElement(z,{history:i,stepClick:V.bind(this)}):null,n&&p.a.createElement(P,{choosedGrid:n,controllBar:r})))}}]),e}(f.Component))||X;r(28);y.a.render(p.a.createElement(function(){return p.a.createElement(Y,{pageStore:q})},null),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.af5a74b2.chunk.js.map