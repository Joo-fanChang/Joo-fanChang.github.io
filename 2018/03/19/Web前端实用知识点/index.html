<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Web前端实用知识点 | changzhn`s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/app.css">
  <!-- <link rel='stylesheet' href='http://fonts.useso.com/css?family=Source+Code+Pro'> -->
  
</head>

<body>
  <nav class="app-nav">
  
    
      <a href="/.">home</a>
    
  
    
      <a href="/./categories/web">web</a>
    
  
    
      <a href="/./categories/微信">微信</a>
    
  
    
      <a href="/./categories/git">git</a>
    
  
    
      <a href="/./categories/服务端">服务端</a>
    
  
    
      <a href="https://github.com/Joo-fanChang">about</a>
    
  
</nav>

  <main class="post">
  <article>
  <h1 class="article-title">
    <a href="/2018/03/19/Web前端实用知识点/">Web前端实用知识点</a>
  </h1>

  <section class="article-meta">
    <p class="article-date">March 19 2018</p>
  </section>

  <section class="article-entry">
    <h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><h4 id="lt-form-gt"><a href="#lt-form-gt" class="headerlink" title="&lt;form&gt;"></a><code>&lt;form&gt;</code></h4><p>当<code>method</code>属性值为<code>POST</code>时，<code>enctype</code>是提交给服务器的内容的<code>MIME</code>类型，可能的取值有：</p>
<ul>
<li><code>application/x-www-form-urlencoded</code>：如果属性未指定的默认值</li>
<li><code>nultipart/form-data</code>：这个值用于一个type属性设置为file的<code>&lt;input&gt;</code>元素</li>
<li><code>text/plain</code>(HTML5)</li>
<li><code>application/json</code></li>
</ul>
<h4 id="判断IE"><a href="#判断IE" class="headerlink" title="判断IE"></a>判断IE</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--[if IE 6]&gt;&lt;html class="ie lt-ie8"&gt;&lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if IE 7]&gt;&lt;html class="ie lt-ie8"&gt;&lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if IE 8]&gt;&lt;html class="ie ie8"&gt;&lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if IE 9]&gt;&lt;html class="ie ie9"&gt;&lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if !IE]&gt;&lt;!--&gt;</span> <span class="tag">&lt;<span class="name">html</span>&gt;</span> <span class="comment">&lt;!--&lt;![endif]--&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h4 id="省略号："><a href="#省略号：" class="headerlink" title="省略号："></a>省略号：</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">max-width</span>: ;</span><br><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">text-overflow</span><span class="selector-pseudo">:ellipsis</span>;</span><br><span class="line"><span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span>;</span><br></pre></td></tr></table></figure>
<h4 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">-ms-linear-gradient</span>(<span class="selector-tag">top</span>,<span class="selector-id">#463D89</span>,  <span class="selector-id">#362D7B</span>); <span class="comment">/* IE 10 */</span></span><br><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">-moz-linear-gradient</span>(<span class="selector-tag">top</span>,<span class="selector-id">#463D89</span>,<span class="selector-id">#362D7B</span>); <span class="comment">/*火狐*/</span></span><br><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">-webkit-gradient</span>(<span class="selector-tag">linear</span>, 0% 0%, 0% 100%,<span class="selector-tag">from</span>(<span class="selector-id">#463D89</span>), <span class="selector-tag">to</span>(<span class="selector-id">#362D7B</span>)); <span class="comment">/*谷歌*/</span></span><br><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">-webkit-gradient</span>(<span class="selector-tag">linear</span>, 0% 0%, 0% 100%, <span class="selector-tag">from</span>(<span class="selector-id">#463D89</span>), <span class="selector-tag">to</span>(<span class="selector-id">#362D7B</span>)); <span class="comment">/* Safari 4-5, Chrome 1-9*/</span></span><br><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">-webkit-linear-gradient</span>(<span class="selector-tag">top</span>, <span class="selector-id">#463D89</span>, <span class="selector-id">#362D7B</span>); <span class="comment">/*Safari5.1 Chrome 10+*/</span></span><br><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">-o-linear-gradient</span>(<span class="selector-tag">top</span>, <span class="selector-id">#463D89</span>, <span class="selector-id">#362D7B</span>); <span class="comment">/*Opera 11.10+*/</span></span><br><span class="line">filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#463D89', endColorstr='#362D7B',GradientType=0); /*IE9*/</span><br></pre></td></tr></table></figure>
<h3 id="Font"><a href="#Font" class="headerlink" title="Font"></a>Font</h3><h4 id="familyfont"><a href="#familyfont" class="headerlink" title="familyfont"></a>familyfont</h4><ul>
<li>小程序的<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">font-family</span>: <span class="selector-tag">-apple-system-font</span>,<span class="selector-tag">Helvetica</span> <span class="selector-tag">Neue</span>,<span class="selector-tag">Helvetica</span>,<span class="selector-tag">sans-serif</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="icon-font"><a href="#icon-font" class="headerlink" title="icon-font"></a>icon-font</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;<span class="attribute">font-family</span>: <span class="string">"iconfont"</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'iconfont.eot?t=1500862206137'</span>); <span class="comment">/* IE9*/</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'iconfont.eot?t=1500862206137#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>), <span class="comment">/* IE6-IE8 */</span></span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'iconfont.woff?t=1500862206137'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>), <span class="comment">/* chrome, firefox */</span></span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'iconfont.ttf?t=1500862206137'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>), <span class="comment">/* chrome, firefox, opera, Safari, Android, iOS 4.2+*/</span></span><br><span class="line">  <span class="built_in">url</span>(<span class="string">'iconfont.svg?t=1500862206137#iconfont'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>); <span class="comment">/* iOS 4.1- */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.iconfont</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>:<span class="string">"iconfont"</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">font-size</span>:<span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-style</span>:normal;</span><br><span class="line">  <span class="attribute">-webkit-font-smoothing</span>: antialiased;</span><br><span class="line">  <span class="attribute">-moz-osx-font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-usericon</span><span class="selector-pseudo">:before</span> &#123; <span class="attribute">content</span>: <span class="string">"\e676"</span>; &#125;</span><br></pre></td></tr></table></figure>
<h4 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">800px</span>) and (max-width: <span class="number">1000px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#box</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#00A5FF</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="flexbox"><a href="#flexbox" class="headerlink" title="flexbox"></a>flexbox</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.flex-box</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: -webkit-box; <span class="comment">/* Chrome 4+, Safari 3.1, iOS Safari 3.2+ */</span></span><br><span class="line">	<span class="attribute">display</span>: -moz-box; <span class="comment">/* Firefox 17- */</span></span><br><span class="line">	<span class="attribute">display</span>: -webkit-flex; <span class="comment">/* Chrome 21+, Safari 6.1+, iOS Safari 7+, Opera 15/16 */</span></span><br><span class="line">	<span class="attribute">display</span>: -moz-flex; <span class="comment">/* Firefox 18+ */</span></span><br><span class="line">	<span class="attribute">display</span>: -ms-flexbox; <span class="comment">/* IE 10 */</span></span><br><span class="line">	<span class="attribute">display</span>: flex; <span class="comment">/* Chrome 29+, Firefox 22+, IE 11+, Opera 12.1/17/18, Android 4.4+ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="IOS上光标不显示"><a href="#IOS上光标不显示" class="headerlink" title="IOS上光标不显示"></a>IOS上光标不显示</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 因为加了这个属性</span><br><span class="line"><span class="selector-tag">user-select</span>: <span class="selector-tag">none</span>;</span><br></pre></td></tr></table></figure>
<h2 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h2><h4 id="encodeURIComponent"><a href="#encodeURIComponent" class="headerlink" title="encodeURIComponent"></a>encodeURIComponent</h4><p>使用ajax向台发get请求，将中文字符使用这个进行编码处理。后台再进行相应处理<br>注：<br>jquery ajax和axios都已对中文字符进行了编码处理</p>
<h4 id="正则"><a href="#正则" class="headerlink" title="正则"></a>正则</h4><ul>
<li>IP<code>/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/</code></li>
<li>端口<code>/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5])$/</code></li>
<li>IP + 端口(可以不带端口)<code>/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))(:([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5]))?$/</code></li>
<li>IP + 端口(必须带端口)<code>/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))(:([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5]))$/</code></li>
<li>域名<code>/((https|http|ftp|rtsp|mms):\/\/)?(([0-9a-z_!~*&#39;().&amp;=+$%-]+:)?[0-9a-z_!~*&#39;().&amp;=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*&#39;()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*&#39;().;?:@&amp;=+$,%#-]+)+\/?)/</code></li>
<li>中文正则<code>/[\u4e00-\u9fa5]/</code></li>
</ul>
<h4 id="web注销后浏览器回退"><a href="#web注销后浏览器回退" class="headerlink" title="web注销后浏览器回退"></a>web注销后浏览器回退</h4><p>第一种方式：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onpopstate = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="built_in">window</span>.location.reload()</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">history.pushState(<span class="literal">null</span>, <span class="literal">null</span>)</span><br></pre></td></tr></table></figure></p>
<p>利用浏览器后退按钮，让该页面再刷新，就回不到那个页面</p>
<p>第二种方式：<br>replace会替换history对象中的记录<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.location.replace(<span class="string">'https://www.baidu.com'</span>);</span><br></pre></td></tr></table></figure></p>
<h4 id="src的绝对路径转base64"><a href="#src的绝对路径转base64" class="headerlink" title="src的绝对路径转base64"></a>src的绝对路径转base64</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img = <span class="string">"https://ncc-ys-prod-oss.oss-cn-beijing.aliyuncs.com//a2e6a30c-eb66-4d4b-bded-65b109d74f2e"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBase64Image</span>(<span class="params">img</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">    canvas.width = img.width;</span><br><span class="line">    canvas.height = img.height;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, img.width, img.height);</span><br><span class="line">    <span class="keyword">var</span> ext = img.src.substring(img.src.lastIndexOf(<span class="string">"."</span>)+<span class="number">1</span>).toLowerCase();</span><br><span class="line">    <span class="keyword">var</span> dataURL = canvas.toDataURL(<span class="string">"image/"</span>+ext);</span><br><span class="line">    <span class="keyword">return</span> dataURL;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> image = <span class="keyword">new</span> Image();</span><br><span class="line">image.crossOrigin = <span class="string">''</span>;</span><br><span class="line">image.src = img;</span><br><span class="line">image.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> base64 = getBase64Image(image);</span><br><span class="line">    <span class="built_in">console</span>.log(base64);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="getQueryString"><a href="#getQueryString" class="headerlink" title="getQueryString"></a>getQueryString</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getQueryString</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^|&amp;)"</span>+ name +<span class="string">"=([^&amp;]*)(&amp;|$)"</span>);</span><br><span class="line">	<span class="keyword">var</span> r = <span class="built_in">window</span>.location.search.substr(<span class="number">1</span>).match(reg);</span><br><span class="line">	<span class="keyword">if</span>(r!=<span class="literal">null</span>)<span class="keyword">return</span> <span class="built_in">decodeURIComponent</span>(r[<span class="number">2</span>]); <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h3><h4 id="上传图片预览"><a href="#上传图片预览" class="headerlink" title="上传图片预览"></a>上传图片预览</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getObjectURL</span>(<span class="params">file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.createObjectURL != <span class="literal">undefined</span>) &#123; <span class="comment">// basic</span></span><br><span class="line">        url = <span class="built_in">window</span>.createObjectURL(file);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.URL != <span class="literal">undefined</span>) &#123; <span class="comment">// mozilla(firefox)</span></span><br><span class="line">        url = <span class="built_in">window</span>.URL.createObjectURL(file);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.webkitURL != <span class="literal">undefined</span>) &#123; <span class="comment">// webkit or chrome</span></span><br><span class="line">        url = <span class="built_in">window</span>.webkitURL.createObjectURL(file);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> url;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> formData = <span class="keyword">new</span> FormData();</span><br><span class="line"><span class="keyword">var</span> file = $(<span class="string">'#file'</span>)[<span class="number">0</span>].files[<span class="number">0</span>];</span><br><span class="line">formData.append(<span class="string">'file'</span>, file);</span><br><span class="line"></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    url: url,</span><br><span class="line">    type: <span class="string">'POST'</span>,</span><br><span class="line">    data: formData,</span><br><span class="line">    contentType: <span class="literal">false</span>,</span><br><span class="line">    cache: <span class="literal">false</span>,</span><br><span class="line">    processData: <span class="literal">false</span>,</span><br><span class="line">	...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">download</span>(<span class="params">href, filename</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">	a.setAttribute(<span class="string">'target'</span>, <span class="string">'_blank'</span>);</span><br><span class="line">	a.setAttribute(<span class="string">'href'</span>, href);</span><br><span class="line">	a.setAttribute(<span class="string">'download'</span>, filename);</span><br><span class="line">	a.click();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="jquery-ajax-超时"><a href="#jquery-ajax-超时" class="headerlink" title="jquery ajax 超时"></a>jquery ajax 超时</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">	url: <span class="string">'/rest/v1/checkVersion'</span>,</span><br><span class="line">	type: <span class="string">'POST'</span>,</span><br><span class="line">	dataType: <span class="string">'json'</span>,</span><br><span class="line">	timeout: <span class="number">5000</span>,</span><br><span class="line">	success: <span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (result.flag == <span class="number">1</span>) &#123;</span><br><span class="line">			callback(result.cur_version, result.data);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			showMessage(<span class="string">'当前已是最新版本，当前版本号为：'</span> + result.cur_version);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	error: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, textStatus</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (textStatus == <span class="string">'timeout'</span>) &#123;</span><br><span class="line">			showMessage(<span class="string">'请求服务器超时，请联系管理员'</span>)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			showMessage(<span class="string">'发生错误，请联系管理员'</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="request-header-content-type"><a href="#request-header-content-type" class="headerlink" title="request header content-type"></a>request header content-type</h4><p><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/api/network-request.html#wxrequestobject" target="_blank" rel="noopener">来自小程序开发</a></p>
<ul>
<li>对于 GET 方法的数据，会将数据转换成 query string（encodeURIComponent(k)=encodeURIComponent(v)&amp;encodeURIComponent(k)=encodeURIComponent(v)…）</li>
<li>对于 POST 方法且 header[‘content-type’] 为 application/json 的数据，会对数据进行 JSON 序列化</li>
<li>对于 POST 方法且 header[‘content-type’] 为 application/x-www-form-urlencoded 的数据，会将数据转换成 query string （encodeURIComponent(k)=encodeURIComponent(v)&amp;encodeURIComponent(k)=encodeURIComponent(v)…）</li>
</ul>
<p>小程序的用法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wx.request(&#123;</span><br><span class="line">	url: <span class="string">''</span>,</span><br><span class="line">	...</span><br><span class="line">	header: &#123;</span><br><span class="line">		<span class="string">'content-type'</span>: <span class="string">'application/json'</span><span class="comment">//'application/x-www-form-urlencoded'</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>原生设置请求头<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xmlhttp.setRequestHeader(<span class="string">"Content-Type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line">xmlhttp.setRequestHeader(<span class="string">"Content-Type"</span>,<span class="string">"application/json; charset=utf-8"</span>);</span><br></pre></td></tr></table></figure></p>
<p>使用axios设置请求头<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.post(url, data, &#123;<span class="attr">headers</span>: &#123;<span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>&#125;&#125;)...</span><br></pre></td></tr></table></figure></p>
<h4 id="axios-timeout"><a href="#axios-timeout" class="headerlink" title="axios timeout"></a>axios timeout</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line">axios.defaults.timeout = <span class="number">5000</span>;</span><br></pre></td></tr></table></figure>
<h4 id="使用JS关闭当前窗口"><a href="#使用JS关闭当前窗口" class="headerlink" title="使用JS关闭当前窗口"></a>使用JS关闭当前窗口</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">closePageForm</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.opener=<span class="literal">null</span>;</span><br><span class="line">  <span class="built_in">window</span>.open(<span class="string">''</span>,<span class="string">'_self'</span>);</span><br><span class="line">  <span class="built_in">window</span>.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><h4 id="yyyy-mm-dd"><a href="#yyyy-mm-dd" class="headerlink" title="yyyy-mm-dd"></a>yyyy-mm-dd</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getNowFormatDate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">	<span class="keyword">var</span> seperator1 = <span class="string">"-"</span>;</span><br><span class="line">	<span class="keyword">var</span> year = date.getFullYear();</span><br><span class="line">	<span class="keyword">var</span> month = date.getMonth() + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">var</span> strDate = date.getDate();</span><br><span class="line">	<span class="keyword">if</span> (month &gt;= <span class="number">1</span> &amp;&amp; month &lt;= <span class="number">9</span>) &#123;</span><br><span class="line">		month = <span class="string">"0"</span> + month;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (strDate &gt;= <span class="number">0</span> &amp;&amp; strDate &lt;= <span class="number">9</span>) &#123;</span><br><span class="line">		strDate = <span class="string">"0"</span> + strDate;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> currentdate = year + seperator1 + month + seperator1 + strDate;</span><br><span class="line">	<span class="keyword">return</span> currentdate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h3><h4 id="Bootstra-validator的重置"><a href="#Bootstra-validator的重置" class="headerlink" title="Bootstra validator的重置"></a>Bootstra validator的重置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#uploadForm'</span>).bootstrapValidator(<span class="string">'resetForm'</span>, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Modal验证销毁重构</span></span><br><span class="line">$(<span class="string">'#editModal'</span>).on(<span class="string">'hidden.bs.modal'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	$(<span class="string">"#saveadmin_form"</span>).data(<span class="string">'bootstrapValidator'</span>).destroy();</span><br><span class="line">	$(<span class="string">'#saveadmin_form'</span>).data(<span class="string">'bootstrapValidator'</span>, <span class="literal">null</span>);</span><br><span class="line">	formValidator();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bootstrapValidator = $(<span class="string">'#editPassword'</span>).data(<span class="string">'bootstrapValidator'</span>);</span><br><span class="line"><span class="comment">//手动触发验证</span></span><br><span class="line">bootstrapValidator.validate();</span><br><span class="line"><span class="comment">//校验通过</span></span><br><span class="line"><span class="keyword">if</span> (bootstrapValidator.isValid()) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h4><ul>
<li>匹配不相同 different</li>
<li>匹配相同 identical<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#editPassword'</span>).bootstrapValidator(&#123;</span><br><span class="line">    message: <span class="string">'This value is not valid'</span>,</span><br><span class="line">    fields: &#123;</span><br><span class="line">        oldPassword: &#123;</span><br><span class="line">            message: <span class="string">'验证失败'</span>,</span><br><span class="line">            validators: &#123;</span><br><span class="line">                notEmpty: &#123;</span><br><span class="line">                    message: <span class="string">'不能为空'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                stringLength: &#123;</span><br><span class="line">                    min: <span class="number">6</span>,</span><br><span class="line">                    max: <span class="number">20</span>,</span><br><span class="line">                    message: <span class="string">'请输入至少6位，最多20位密码'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        newPassword: &#123;</span><br><span class="line">            message: <span class="string">'验证失败'</span>,</span><br><span class="line">            validators: &#123;</span><br><span class="line">                notEmpty: &#123;</span><br><span class="line">                    message: <span class="string">'不能为空'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                stringLength: &#123;</span><br><span class="line">                    min: <span class="number">6</span>,</span><br><span class="line">                    max: <span class="number">20</span>,</span><br><span class="line">                    message: <span class="string">'请输入至少6位，最多20位密码'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                callback: &#123;</span><br><span class="line">                    message: <span class="string">'This value is not valid'</span>,</span><br><span class="line">                    callback: <span class="function"><span class="keyword">function</span>(<span class="params">value, validator, field</span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">if</span> (value != <span class="string">""</span> &amp;&amp; value == $(<span class="string">"#oldPassword"</span>).val()) &#123;</span><br><span class="line">                            <span class="keyword">return</span> &#123;</span><br><span class="line">                                valid: <span class="literal">false</span>,    <span class="comment">// or false</span></span><br><span class="line">                                message: <span class="string">'新密码不能与旧密码相同'</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                identical: &#123;</span><br><span class="line">                    field: <span class="string">'newPassword'</span>,</span><br><span class="line">                    message: <span class="string">'两次输入的密码不一致'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        confirmPassword: &#123;</span><br><span class="line">            message: <span class="string">'验证失败'</span>,</span><br><span class="line">            validators: &#123;</span><br><span class="line">                notEmpty: &#123;</span><br><span class="line">                    message: <span class="string">'不能为空'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                stringLength: &#123;</span><br><span class="line">                    min: <span class="number">6</span>,</span><br><span class="line">                    max: <span class="number">20</span>,</span><br><span class="line">                    message: <span class="string">'请输入至少6位，最多20位密码'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                identical: &#123;</span><br><span class="line">                    field: <span class="string">'newPassword'</span>,</span><br><span class="line">                    message: <span class="string">'两次输入的密码不一致'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="VUE"><a href="#VUE" class="headerlink" title="VUE"></a>VUE</h2><h4 id="不要使用箭头函数"><a href="#不要使用箭头函数" class="headerlink" title="不要使用箭头函数"></a>不要使用箭头函数</h4><blockquote>
<p>不要在选项属性或回调上使用箭头函数，比如 <code>created: () =&gt; console.log(this.a)</code>或 <code>vm.$watch(&#39;a&#39;, newValue =&gt; this.myMethod())</code>。因为箭头函数是和父级上下文绑定在一起的，this 不会是如你所预期的 Vue 实例，且 this.a 或 this.myMethod 也会是未定义的。</p>
</blockquote>

  </section>
</article>

  <div class="sharing grid">
  <section class="profile grid-item grid">
    <img class="avatar" src="/images/avatar.png" alt="avatar" />
    <div class="grid-item">
      <p class="title"> changzhn`s blog </p>
      <p class="subtitle"> 中国人睡觉时，美国人大多数人在工作 </p>
    <div>
  </section>

  <section class="share-btns">
    <!-- <p> share it if you like it~ </p> -->
    <a
  class="twitter-share-button"
  data-size="large"
  data-via="DrakeLeung"
  href="javascript:;"
>
  Best wishes.
</a>

  </section>
</div>


  
    
<section class="article-comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

<script>
  var disqus_shortname = 'drakeleung';
  
  var disqus_url = 'https://joo-fanchang.github.io/2018/03/19/Web前端实用知识点/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


  
</main>

</body>
</html>
